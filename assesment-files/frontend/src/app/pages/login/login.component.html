<h2 mat-dialog-title class="text-center">Login</h2>
<mat-dialog-content>
    <div>
        <form [formGroup]="loginForm" #LocalForm="ngForm">
            <div class="row g-3">
                <!-- Email -->
                <div class="col-lg-12 col-md-12 col-sm-12 col-12">
                    <div class="px-3">
                        <p>Email</p>
                        <mat-form-field appearance="outline" hintLabel="Enter the valid email address">
                            <mat-label> Email Address</mat-label>
                            <input matInput placeholder="Ex : jhon&#64;gmail.com" formControlName="email">
                            <mat-hint align="end">Ex : jhon&#64;gmail.com</mat-hint>
                            @if (loginForm.controls['email'].errors?.['pattern']) {
                            <mat-error>Enter a valid email address eg: jhon&#64;gmail.com</mat-error>
                            }
                            @if (loginForm.controls['email'].errors?.['required']) {
                            <mat-error>Email is <strong>required</strong></mat-error>
                            }
                        </mat-form-field>
                    </div>
                </div>

                <!-- Role Selection -->
                <!-- <div class="col-lg-12 col-md-12 col-sm-12 col-12">
                    <div class="px-3">
                        <p>Role</p>
                        <mat-form-field appearance="outline">
                            <mat-label>Select Role</mat-label>
                            <mat-select formControlName="role">
                                @for (role of roles; track role.value) {
                                <mat-option [value]="role.value">{{role.viewValue}}</mat-option>
                                }
                            </mat-select>
                            @if (loginForm.controls['role'].errors?.['required']) {
                            <mat-error>Role is <strong>required</strong></mat-error>
                            }
                        </mat-form-field>
                    </div>
                </div> -->

                <div class="col-lg-12 col-md-12 col-sm-12 col-12 mb-3">
                    <div class="px-3">
                        <p>Password</p>
                        <mat-form-field appearance="outline">
                            <mat-label> Password</mat-label>
                            <input #password matInput placeholder="Enter Your Password" formControlName="password"
                                [type]="hide() ? 'password' : 'text'">
                            <button mat-icon-button matSuffix (click)="clickEvent($event)"
                                [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hide()">
                                <mat-icon>{{hide() ? 'visibility_off' : 'visibility'}}</mat-icon>
                            </button>
                            <mat-hint align="end">{{password.value.length}} / 15</mat-hint>
                            @if (loginForm.controls['password'].errors?.['maxlength']) {
                            <mat-error>This field should be max 15 characters</mat-error>
                            }
                            @if (loginForm.controls['password'].errors?.['minlength'] ){
                            <mat-error>This field must be min 8 characters</mat-error>
                            }
                            @if (loginForm.controls['password'].errors?.['pattern']) {
                            <mat-error>At least <strong>one uppercase and lowercase letter, one number, and one special
                                    character.</strong></mat-error>
                            }
                            @if (loginForm.controls['password'].errors?.['required']) {
                            <mat-error>Password is <strong>required</strong></mat-error>
                            }
                        </mat-form-field>
                    </div>
                </div>

                <div class="col-lg-12 col-md-12 col-sm-12 col-12 px-4 mt-3 text-center">
                    <div class="d-flex gap-3 justify-content-center">
                        <button mat-raised-button (click)="submit()" color="primary" [disabled]="loading">
                            @if (loading) {
                            <mat-spinner diameter="20"></mat-spinner>
                            <span class="ms-2">Logging in...</span>
                            } @else {
                            Submit
                            }
                        </button>
                        <button mat-raised-button color="warn" mat-dialog-close [disabled]="loading">Close</button>
                    </div>
                </div>
            </div>
        </form>
    </div>
</mat-dialog-content>
